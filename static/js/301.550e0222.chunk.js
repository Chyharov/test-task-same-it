"use strict";(self.webpackChunktest_task_same_it=self.webpackChunktest_task_same_it||[]).push([[301],{281:function(e,n,t){t.d(n,{Z:function(){return a}});var r={header__title:"Header_header__title__zG0D0"},i=t(184),a=function(){return(0,i.jsx)("header",{className:r.header,children:(0,i.jsx)("div",{className:"container "+r.header__padding,children:(0,i.jsx)("h1",{className:r.header__title,children:"Header"})})})}},301:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(439),i=t(791),a=t(87),s=t(433),c=t(861),o=t(687),u=t.n(o),l=t(243),h=function(){var e=(0,c.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.post("https://api.novaposhta.ua/v2.0/json/",{apiKey:"cfd822868f3c257a0d180413d03f97e2",modelName:"TrackingDocument",calledMethod:"getStatusDocuments",methodProperties:{Documents:[{DocumentNumber:n,Phone:""}]}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching tracking info:",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),d=t(184),f=function(e){var n=e.history,t=e.onClearHistory,r=e.onHistoryItemClick;return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Search History"}),n.length>0?(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{onClick:t,children:"Clear History"}),(0,d.jsx)("ul",{children:n.map((function(e,n){return(0,d.jsx)("li",{onClick:function(){return r(e)},children:e},n)}))})]}):(0,d.jsx)("p",{children:"No search history available."})]})},p=function(e){var n=e.onTrackingInfoReceived,t=(0,i.useState)(""),a=(0,r.Z)(t,2),o=a[0],l=a[1],p=(0,i.useState)(!1),x=(0,r.Z)(p,2),v=x[0],j=x[1],m=(0,i.useState)([]),g=(0,r.Z)(m,2),k=g[0],y=g[1];(0,i.useEffect)((function(){var e=localStorage.getItem("searchHistory");e&&y(JSON.parse(e))}),[]);var S=function(e){var n=e.target.value.replace(/\D/g,"");l(n),14===n.length?j(!0):j(!1)},_=function(){var e=(0,c.Z)(u().mark((function e(t){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!v){e.next=9;break}return e.next=4,h(o);case 4:r=e.sent,n(r),i=(0,s.Z)(new Set([].concat((0,s.Z)(k),[o]))),y(i),localStorage.setItem("searchHistory",JSON.stringify(i));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{children:[(0,d.jsxs)("form",{onSubmit:_,children:[(0,d.jsx)("input",{type:"text",value:o,onChange:S,placeholder:"Enter tracking number"}),(0,d.jsx)("button",{type:"submit",disabled:!v,children:"Get status TTN"}),14!==o.length&&(0,d.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0456\u0442\u044c 14 \u0446\u0438\u0444\u0440 \u0432\u0430\u0448\u043e\u0457 \u043f\u043e\u0441\u0438\u043b\u043a\u0438"})]}),(0,d.jsx)(f,{history:k,onClearHistory:function(){y([]),localStorage.removeItem("searchHistory")},onHistoryItemClick:function(e){l(e),S({target:{value:e}}),_(new Event("submit"))}})]})},x=function(e){var n=e.trackingInfo;if(console.log(n),!n)return null;var t=n.data;if(!t||0===t.length)return(0,d.jsx)("p",{children:"No tracking information found for this number."});var r=t[0];return(0,d.jsx)("div",{children:(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: ",r.Status]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",r.CitySender,", ",r.WarehouseSender]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043e: ",r.CityRecipient,", ",r.WarehouseRecipient]})})]})})},v=t(281),j=function(){var e=(0,i.useState)(null),n=(0,r.Z)(e,2),t=n[0],s=n[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Z,{}),(0,d.jsxs)("main",{children:[(0,d.jsx)("h1",{children:"New Post Tracking"}),(0,d.jsx)(a.rU,{to:"/SecondPage",children:"to SecondPage"}),(0,d.jsx)(p,{onTrackingInfoReceived:function(e){s(e)}}),(0,d.jsx)(x,{trackingInfo:t})]})]})}}}]);
//# sourceMappingURL=301.550e0222.chunk.js.map