"use strict";(self.webpackChunktest_task_same_it=self.webpackChunktest_task_same_it||[]).push([[341],{505:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(87),a={},s=t(184),i=function(){return(0,s.jsxs)("nav",{className:a.navBar,children:[(0,s.jsx)(n.rU,{to:"/",children:"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u0442\u0438 \u0422\u0422\u041d"}),(0,s.jsx)(n.rU,{to:"/DepartmentsList",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0456\u0434\u0434\u0456\u043b\u0435\u043d\u044c"})]})},c={header__title:"Header_header__title__zG0D0"},o=function(){return(0,s.jsx)("header",{className:c.header,children:(0,s.jsxs)("div",{className:"container "+c.header__padding,children:[(0,s.jsx)("h1",{className:c.header__title,children:"Logo"}),(0,s.jsx)(i,{})]})})}},341:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var n=t(439),a=t(791),s=t(433),i=t(861),c=t(687),o=t.n(c),u=t(933),l=t(184),d=function(e){var r=e.history,t=e.onClearHistory,n=e.onHistoryItemClick;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"Search History"}),r.length>0?(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:t,children:"Clear History"}),(0,l.jsx)("ul",{children:r.map((function(e,r){return(0,l.jsx)("li",{onClick:function(){return n(e)},children:e},r)}))})]}):(0,l.jsx)("p",{children:"No search history available."})]})},h=function(e){var r=e.onTrackingInfoReceived,t=(0,a.useState)(""),c=(0,n.Z)(t,2),h=c[0],f=c[1],p=(0,a.useState)(!1),v=(0,n.Z)(p,2),x=v[0],m=v[1],j=(0,a.useState)([]),g=(0,n.Z)(j,2),k=g[0],y=g[1];(0,a.useEffect)((function(){var e=localStorage.getItem("searchHistory");e&&y(JSON.parse(e))}),[]);var b=function(e){var r=e.target.value.replace(/\D/g,"");f(r),14===r.length?m(!0):m(!1)},_=function(){var e=(0,i.Z)(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!x){e.next=9;break}return e.next=4,(0,u.Jy)(h);case 4:n=e.sent,r(n),a=(0,s.Z)(new Set([].concat((0,s.Z)(k),[h]))),y(a),localStorage.setItem("searchHistory",JSON.stringify(a));case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:_,children:[(0,l.jsx)("input",{type:"text",value:h,onChange:b,placeholder:"Enter tracking number"}),(0,l.jsx)("button",{type:"submit",disabled:!x,children:"Get status TTN"}),14!==h.length&&(0,l.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0456\u0442\u044c 14 \u0446\u0438\u0444\u0440 \u0432\u0430\u0448\u043e\u0457 \u043f\u043e\u0441\u0438\u043b\u043a\u0438"})]}),(0,l.jsx)(d,{history:k,onClearHistory:function(){y([]),localStorage.removeItem("searchHistory")},onHistoryItemClick:function(e){f(e),b({target:{value:e}}),_(new Event("submit"))}})]})},f=function(e){var r=e.trackingInfo;if(!r)return null;var t=r.data;if(!t||0===t.length)return(0,l.jsx)("p",{children:"No tracking information found for this number."});var n=t[0];return(0,l.jsx)("div",{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsxs)("p",{children:["\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: ",n.Status]})}),(0,l.jsx)("li",{children:(0,l.jsxs)("p",{children:["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",n.CitySender,", ",n.WarehouseSender]})}),(0,l.jsx)("li",{children:(0,l.jsxs)("p",{children:["\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043e: ",n.CityRecipient,", ",n.WarehouseRecipient]})})]})})},p=t(505),v=function(){var e=(0,a.useState)(null),r=(0,n.Z)(e,2),t=r[0],s=r[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Z,{}),(0,l.jsxs)("main",{children:[(0,l.jsx)("h1",{children:"New Post Tracking"}),(0,l.jsx)(h,{onTrackingInfoReceived:function(e){s(e)}}),(0,l.jsx)(f,{trackingInfo:t})]})]})}},933:function(e,r,t){t.d(r,{J_:function(){return u},Jy:function(){return l}});var n=t(861),a=t(687),s=t.n(a),i=t(243),c="cfd822868f3c257a0d180413d03f97e2",o="https://api.novaposhta.ua/v2.0/json/",u=function(){var e=(0,n.Z)(s().mark((function e(){var r,t,n,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,i.Z.post(o,{apiKey:c,modelName:"Address",calledMethod:"getWarehouses",methodProperties:{CityName:"".concat(r),Language:"ua"}});case 4:if(t=e.sent,!((n=t.data)&&n.success&&n.data)){e.next=10;break}return e.abrupt("return",n.data);case 10:throw new Error("Invalid response format");case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(1),console.error("An error occurred:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post(o,{apiKey:c,modelName:"TrackingDocument",calledMethod:"getStatusDocuments",methodProperties:{Documents:[{DocumentNumber:r,Phone:""}]}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching tracking info:",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=341.27d223a4.chunk.js.map